{% load static %}
<!DOCTYPE html>
<html lang="en">
   <head>
      <!-- basic -->
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <!-- mobile metas -->
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="viewport" content="initial-scale=1, maximum-scale=1">
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <!-- site metas -->
      <title>News</title>
      <meta name="keywords" content="">
      <meta name="description" content="">
      <meta name="author" content="">
      <!-- bootstrap css -->
      <link rel="stylesheet" type="text/css" href="{% static 'product/css/bootstrap.min.css' %}">
      <!-- style css -->
      <link rel="stylesheet" type="text/css" href="{% static 'product/css/style.css' %}">
      <link rel="stylesheet" type="text/css" href="{% static 'product/css/image.css' %}">
      <!-- Responsive-->
      <link rel="stylesheet" href="{% static 'product/css/responsive.css' %}">
      <link rel="stylesheet" href="{% static 'product/css/detail_cycle.css' %}">
      <!-- fevicon -->
      <link rel="icon" href="{% static 'product/images/fevicon.png' %}" type="image/gif" />
      <!-- Scrollbar Custom CSS -->
      <link rel="stylesheet" href="{% static 'product/css/jquery.mCustomScrollbar.min.css' %}">
      <!-- Tweaks for older IEs-->
      <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
      <!-- owl stylesheets --> 
      <link href="https://fonts.googleapis.com/css?family=Poppins:400,700|Raleway:400,700,800&display=swap" rel="stylesheet">
      <link rel="stylesheet" href="{% static 'product/css/owl.carousel.min.css' %}">
      <link rel="stylesoeet" href="{% static 'product/css/owl.theme.default.min.css' %}">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css" media="screen">
   </head>
   <body>
      <!-- header section start -->
      <div class="header_section header_bg">
         <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a href="index.html" class="logo"><img src="{% static 'product/images/logo.png' %}"></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
               <ul class="navbar-nav mr-auto">
                  <li class="nav-item active">
                     <a class="nav-link" href={% url "index" %}>Home</a>
                  </li>
                  <li class="nav-item">
                     <a class="nav-link" href={% url "about_us" %}>About</a>
                  </li>
                  <li class="nav-item">
                     <a class="nav-link" href={% url "cycle" %}>Our Cycle</a>
                  </li>
                  <li class="nav-item">
                     <a class="nav-link" href="shop.html">Shop</a>
                  </li>
                  <li class="nav-item">
                     <a class="nav-link" href={% url "news" %}>News</a>
                  </li>
                  <li class="nav-item">
                     <a class="nav-link" href={% url "contact" %}>Contact Us</a>
                  </li>
               </ul>
               <form class="form-inline my-2 my-lg-0">
                  <div class="login_menu">
                     <ul>
                        <li><a href={% url "login" %}>Login</a></li>
                        <li><a href="#"><img src="{% static 'product/images/trolly-icon.png' %}"></a></li>
                        <li><a href="#"><img src="{% static 'product/images/search-icon.png' %}"></a></li>
                     </ul>
                  </div>
                  <div></div>
               </form>
            </div>
            <div id="main">
               <span style="font-size:36px;cursor:pointer; color: #fff" onclick="openNav()"><img src="{% static 'product/images/toggle-icon.png' %}" style="height: 30px;"></span>
            </div>
         </nav>
         <div class="banner_section layout_padding">
            <div id="main_slider" class="carousel slide" data-ride="carousel">
               <div class="carousel-inner">
                  <div class="carousel-item active">
                     <div class="container">
                        <div class="row">
                           <div class="col-md-7">
                              <div class="best_text">Best</div>
                              <div class="image_1"><img src="{% static 'product/images/img-1.png' %}"></div>
                           </div>
                        </div>
                     </div>
                  </div>
                </div>
            </div>
        </div>
    </div>
        <div class="cycle1">
            <div class="container">
                <div class="row" id="productDetailContainer">
                    <!-- Product details will be inserted here dynamically -->
                </div>
            </div>
        </div>
        <!-- end laptop1 -->
        <footer>
            <!-- Footer content -->
        </footer>
        <style>
            #productDetailContainer {
                display: flex;
                flex-direction: row-reverse; 
            }
        
            /* Add styles for product image column */
            #productDetailContainer .col-md-7 {
                flex: 1; 
            }
            
            /* Add styles for product info column */
            #productDetailContainer .col-md-5 {
                flex: 1; 
            }
            /* Add styles for product info */
            .product-info > div {
                margin-bottom: 5px; /* Adjust bottom margin */
                .laptop1_img img {
                    width: 40%; /* Adjust the width of the image */
                    height: auto; /* Maintain the aspect ratio */
                }
                .laptop1_img img:hover {
                    transform: scale(1.1); /* Increase the scale on hover */
                }
        </style>
        <div class="footer_section layout_padding">
            <div class="container-fluid">
               <div class="row">
                  <div class="col-lg-8 col-sm-12 padding_0">
                     <div class="map_main">
                        <div class="map-responsive">
                          <iframe src="https://www.google.com/maps/embed/v1/place?key=AIzaSyA0s1a7phLN0iaD6-UE7m4qP-z21pH0eSc&amp;q=Eiffel+Tower+Paris+France" width="600" height="400" frameborder="0" style="border:0; width: 100%;" allowfullscreen=""></iframe>
                        </div>
                     </div>
                  </div>
                  <div class="col-lg-4 col-sm-12">
                     <div class="call_text"><a href="#"><img src="{% static 'images/map-icon.png' %}"><span class="padding_left_0">Page when looking at its layou</span></a></div>
                     <div class="call_text"><a href="#"><img src="{% static 'images/call-icon.png' %}"><span class="padding_left_0">Call Now  +01 123467890</span></a></div>
                     <div class="call_text"><a href="#"><img src="{% static 'images/mail-icon.png' %}"><span class="padding_left_0">demo@gmail.com</span></a></div>
                     <input type="text" class="email_text" placeholder="Enter Your Email" name="Enter Your Email">
                     <div class="subscribe_bt"><a href="#">Subscribe</a></div>
                  </div>
               </div>
            </div>
         </div>
         <!-- footer section end -->
         <!-- copyright section start -->
         <div class="copyright_section">
            <div class="container">
               <p class="copyright_text">Copyright 2019 All Right Reserved By.<a href="https://html.design"> Free  html Templates</p>
            </div>
         </div>
         <!-- copyright section end -->    
         <!-- Javascript files-->
         <script src="{% static 'product/js/jquery.min.js' %}"></script>
         <script src="{% static 'product/js/popper.min.js' %}"></script>
         <script src="{% static 'product/js/bootstrap.bundle.min.js' %}"></script>
         <script src="{% static 'product/js/jquery-3.0.0.min.js' %}"></script>
         <script src="{% static 'product/js/plugin.js' %}"></script>
         <!-- sidebar -->
         <script src="{% static 'product/js/jquery.mCustomScrollbar.concat.min.js' %}"></script>
         <script src="{% static 'product/js/custom.js' %}"></script>
         <!-- javascript --> 
         <script src="{% static 'product/js/owl.carousel.js' %}"></script>
         <script src="https:cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.js"></script>
         <script>
            function openNav() {
              document.getElementById("mySidenav").style.width = "250px";
              document.getElementById("main").style.marginLeft = "250px";
            }
            
            function closeNav() {
              document.getElementById("mySidenav").style.width = "0";
              document.getElementById("main").style.marginLeft= "0";
             
            }
   
            $("#main").click(function(){
                $("#navbarSupportedContent").toggleClass("nav-normal")
            })
         </script>
         <script>
            function fetchProductDetail() {
                fetch('/api' + window.location.pathname,{
                  method:"GET",
                  headers:{
                     "Content-Type":"application/json",
                     "Authorization":`Bearer ${localStorage.getItem("access_token")}`
                  }
                 })
                .then(response => response.json())
                    .then(product => {
                        const productDetailContainer = document.getElementById('productDetailContainer');
         
                        const colDiv = document.createElement('div');
                        colDiv.classList.add('col-md-7');
         
                        const laptopImg = document.createElement('div');
                        laptopImg.classList.add('laptop1_img');
                        laptopImg.innerHTML = `<figure><img src="${product.product.image}" alt="${product.product.name}" class="cycle1-img"/></figure>`;
                        colDiv.appendChild(laptopImg);
         
                        const colDiv2 = document.createElement('div');
                        colDiv2.classList.add('col-md-5');
         
                        const titlePage = document.createElement('div');
                        titlePage.classList.add('titlepage');
                        titlePage.innerHTML = `
                            <h2>${product.product.name}</h2>
                            <h1>${product.product.brand}</h1>
                            <div class="product-info">
                                <div><strong>Description:</strong> ${product.product.description}</div>
                                <div><strong>Price:</strong> ${product.product.price}</div>
                                <div><strong>Inventory quantity:</strong> ${product.product.inventory_quantity}</div>
                                <div><strong>Discount:</strong> ${product.discounts.value ? product.discounts.value : '-'}</div>
                            </div>
                            <a class="read_more" href="/#">Add to Cart</a>
                            <div>
                              <a class="read_more" href="/comment/${product.product.slug}">comment</a>>

                         </div>
                        `;
                        colDiv2.appendChild(titlePage);
         
                        productDetailContainer.appendChild(colDiv);
                        productDetailContainer.appendChild(colDiv2);
                    })
                    .catch(error => console.error('Error fetching product detail:', error));
            }
         
            window.addEventListener('DOMContentLoaded', fetchProductDetail);
         </script>